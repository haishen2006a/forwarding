server {
    listen       80;
    server_name  localhost;

    #charset koi8-r;
    #access_log  /var/log/nginx/host.access.log  main;

    location /customer/account/autologin {
        proxy_pass http://52.37.8.218/customer/account/autologin;
    }

    location /index.php/rest/V1/eyecloud/api/V3/snsTokens {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V3/snsTokens;
    }

    location /index.php/rest/V1/integration/admin/token {
        proxy_pass http://52.37.8.218/index.php/rest/V1/integration/admin/token;
    }

    location /index.php/rest/V1/customers/isEmailAvailable {
        proxy_pass http://52.37.8.218/index.php/rest/V1/customers/isEmailAvailable;
    }

    location /index.php/rest/V1/vcsncheck/check {
        proxy_pass http://52.37.8.218/index.php/rest/V1/vcsncheck/check;
    }

    location /index.php/rest/V1/pdsncheck/check {
        proxy_pass http://52.37.8.218/index.php/rest/V1/pdsncheck/check;
    }

    location /index.php/rest/V1/customers {
        proxy_pass http://52.37.8.218/index.php/rest/V1/customers;
    }

    location /index.php/rest/V1/integration/customer/token {
        proxy_pass http://52.37.8.218/index.php/rest/V1/integration/customer/token;
    }

    location /index.php/rest/V1/customers/me {
        proxy_pass http://52.37.8.218/index.php/rest/V1/customers/me;
    }

    location /index.php/rest/V1/customers/password {
        proxy_pass http://52.37.8.218/index.php/rest/V1/customers/password;
    }

    location /index.php/rest/V1/sncheck/check {
        proxy_pass http://52.37.8.218/index.php/rest/V1/sncheck/check;
    }

    location /index.php/rest/V1/socialcustomers/validate {
        proxy_pass http://52.37.8.218/index.php/rest/V1/socialcustomers/validate;
    }

    location /index.php/rest/V1/socialcustomers {
        proxy_pass http://52.37.8.218/index.php/rest/V1/socialcustomers;
    }

    location /index.php/rest/V1/eyecloud/api/V2/devices {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/devices;
    }

    location /index.php/rest/V1/eyecloud/api/V2/results {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/results;
    }

    location /index.php/rest/V1/eyecloud/api/V2/getrecord {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/getrecord;
    }

    location /index.php/rest/V1/eyecloud/api/V2/refreshall {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/refreshall;
    }

    location /index.php/rest/V1/eyecloud/api/V2/getdashboardinfo {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/getdashboardinfo;
    }

    location /index.php/rest/V1/ftcheck/addfreetrial {
        proxy_pass http://52.37.8.218/index.php/rest/V1/ftcheck/addfreetrial;
    }

    location /index.php/rest/V1/eyecloud/api/V2/purchaseeyeglassnumbers {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/purchaseeyeglassnumbers;
    }

    location /index.php/rest/V1/eyecloud/api/V2/discardtest {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/discardtest;
    }

    location /index.php/rest/V1/eyecloud/api/V2/trainings {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/trainings;
    }

    location /index.php/rest/V1/customers/search {
        proxy_pass http://52.37.8.218/index.php/rest/V1/customers/search;
    }

    location /index.php/rest/V1/orders {
        proxy_pass http://52.37.8.218/index.php/rest/V1/orders;
    }

    location /index.php/rest/V1/incompatiblephones/getlist {
        proxy_pass http://52.37.8.218/index.php/rest/V1/incompatiblephones/getlist;
    }

    location /index.php/rest/V1/ipgeolocation/getcountrylist {
        proxy_pass http://52.37.8.218/index.php/rest/V1/ipgeolocation/getcountrylist;
    }

    location /index.php/rest/V1/ipgeolocation/getrecordset {
        proxy_pass http://52.37.8.218/index.php/rest/V1/ipgeolocation/getrecordset;
    }

    location /index.php/rest/customemail/sendbytemplate {
        proxy_pass http://52.37.8.218/index.php/rest/customemail/sendbytemplate;
    }

    location /customer/account/confirmation/email/ {
        proxy_pass http://52.37.8.218/customer/account/confirmation/email/;
    }

    location /index.php/rest/V1/eyecloud/api/V2/getdashboardsummary {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/getdashboardsummary;
    }

    location /index.php/rest/V1/inapppurchases/buy {
        proxy_pass http://52.37.8.218/index.php/rest/V1/inapppurchases/buy;
    }

    location /index.php/rest/V1/eyecloud/api/V2/refreshuser {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/refreshuser;
    }

    location /index.php/rest/V1/devicebinding/check/me {
        proxy_pass http://52.37.8.218/index.php/rest/V1/devicebinding/check/me;
    }

    location /index.php/rest/V1/devicebinding/add {
        proxy_pass http://52.37.8.218/index.php/rest/V1/devicebinding/add;
    }

    location /index.php/rest/V1/devicebinding/remove {
        proxy_pass http://52.37.8.218/index.php/rest/V1/devicebinding/remove;
    }

    location /index.php/rest/V1/devicebinding/checkdevice {
        proxy_pass http://52.37.8.218/index.php/rest/V1/devicebinding/checkdevice;
    }

    location /index.php/rest/V1/subscriptionservice/enabled {
        proxy_pass http://52.37.8.218/index.php/rest/V1/subscriptionservice/enabled;
    }

    location /index.php/rest/V1/subscriptionservice/defaultproduct {
        proxy_pass http://52.37.8.218/index.php/rest/V1/subscriptionservice/defaultproduct;
    }

    location /index.php/rest/V1/subscriptioncode/addorupdate {
        proxy_pass http://52.37.8.218/index.php/rest/V1/subscriptioncode/addorupdate;
    }

    location /index.php/rest/V1/subscriptionservice/get/me {
        proxy_pass http://52.37.8.218/index.php/rest/V1/subscriptionservice/get/me;
    }

    location /index.php/rest/V1/eyecloud/api/V2/tests {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/tests;
    }


    location /index.php/rest/V1/eyecloud/api/V2/vatests {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/vatests;
    }

    location /index.php/rest/V1/eyecloud/api/V3/pds {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V3/pds;
    }

    location /index.php/rest/V1/eyecloud/api/V2/getstickers {
        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/getstickers;
    }

    location /index.php/rest/V1/vasncheck/check {
        proxy_pass http://52.37.8.218/index.php/rest/V1/vasncheck/check;
    }

    location /index.php/rest/V1/eyecloud/api/V2/cctests {

        proxy_pass http://52.37.8.218/index.php/rest/V1/eyecloud/api/V2/cctests;
    }


    location /eyecloud/api/V3/profiles {
        auth_request /auth;
        auth_request_set $user $upstream_http_x_forwarded_user;
        proxy_set_header Subjectid $user;
        proxy_set_header Authorization "Bearer e46cghc52pqd8kvgqmv8ovsi1ufcfetg";

        proxy_pass http://54.200.90.153:8080/eyecloud/api/V3/profiles;
    }

   location /eyecloud/api/V2/gettests {
        auth_request /auth;
        auth_request_set $user $upstream_http_x_forwarded_user;
        proxy_set_header Subjectid $user;
        proxy_set_header Authorization "Bearer e46cghc52pqd8kvgqmv8ovsi1ufcfetg";

        proxy_pass http://54.200.90.153:8080/eyecloud/api/V2/gettests;
    }

    location /eyecloud/api/V2/vatests {
        auth_request /auth;
        auth_request_set $user $upstream_http_x_forwarded_user;
        proxy_set_header Subjectid $user;
        proxy_set_header Authorization "Bearer e46cghc52pqd8kvgqmv8ovsi1ufcfetg";

        proxy_pass http://54.200.90.153:8080/eyecloud/api/V2/vatests;
    }

    location /eyecloud/api/V2/cctests {
        auth_request /auth;
        auth_request_set $user $upstream_http_x_forwarded_user;
        proxy_set_header Subjectid $user;
        proxy_set_header Authorization "Bearer e46cghc52pqd8kvgqmv8ovsi1ufcfetg";

        proxy_pass http://54.200.90.153:8080/eyecloud/api/V2/cctests;
    }

    location /eyecloud/api/V3/devicesettings {
        auth_request /auth;
        auth_request_set $user $upstream_http_x_forwarded_user;
        proxy_set_header Subjectid $user;
        proxy_set_header Authorization "Bearer e46cghc52pqd8kvgqmv8ovsi1ufcfetg";

        proxy_pass http://54.200.90.153:8080/eyecloud/api/V3/devicesettings;
    }

    location = /auth {
        internal;
        proxy_pass http://34.221.41.144:8080/userauth/api/v1/oauthtokens;
        proxy_pass_request_body off;
        proxy_set_header        Content-Length "";
        proxy_set_header        X-Original-URI $request_uri;
    }


    location / {
       root   /usr/share/nginx/html;
       index  index.html index.htm;
    }

    #error_page  404              /404.html;

    # redirect server error pages to the static page /50x.html
    #
    # error_page   500 502 503 504  /50x.html;
    # location = /50x.html {
    #     root   /usr/share/nginx/html;
    # }

    # proxy the PHP scripts to Apache listening on 127.0.0.1:80
    #
    #location ~ \.php$ {
    #    proxy_pass   http://127.0.0.1;
    #}

    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
    #
    #location ~ \.php$ {
    #    root           html;
    #    fastcgi_pass   127.0.0.1:9000;
    #    fastcgi_index  index.php;
    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
    #    include        fastcgi_params;
    #}

    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    #location ~ /\.ht {
    #    deny  all;
    #}
}
